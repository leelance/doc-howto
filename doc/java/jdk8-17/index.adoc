= JDK升级文档
:source-highlighter: highlight.js
:author: lance
:revdate: 2023-12.03
:revnumber: 1.0.0
//目录配置
:toc: left
:toclevels: 4
:toc-title: 目录
//引用时的文本样式
:xrefstyle: full
:!section-refsig:
:!chapter-refsig:
:appendix-refsig: 附录
//移除Chapter
:chapter-signifier:
//代码高亮
:source-highlighter: rouge
//表格样式
:table-stripes: even
//中文提示标题
:table-caption: 表
:appendix-caption: 附录
:important-caption: 重要
:caution-caption: 警告
:example-caption: 示例
:figure-caption: 图
:listing-caption: 列表
:note-caption: 说明
:tip-caption: 提示
:warning-caption: 注意
//章节标题自动添加序号
:sectnums:
:sectnumlevels: 5
//章节标题变成自链接，可书签标记
:sectlinks:
//文档类型
:doctype: book
:scripts: cjk
// :kroki-fetch-diagram: true
//pdf中文字体
:pdf-theme: themes/theme.yml
:pdf-fontsdir: themes


//版本修订说明
== 修订说明
[cols="2,2,5,2,1"]
|===
|版本 |修订日期 |修订内容 |作者 |状态

|v1.0.0
|2023-12-03
|jdk9,10,11,12,13,14,15,16,17特效整理
|Lance
|草稿

|===

//概述
== 概述

在2022年Spring6和Spring-Boot3发布，其最低依赖jdk版本: JDK17，跳过了JDK8到16的版本。如果我们考虑这个情景，可能有几个原因支持这一举措：

* 新功能和增强功能

Java的每个版本通常都引入新功能、性能改进和增强功能。通过定位JDK 17，使用Spring 6和Spring Boot 3的开发人员将能够利用最新的语言功能和优化。

* 长期支持

作为一个长期支持的版本，JDK 17将为Spring项目提供一个稳定的平台，确保它们在较长时间内获得更新和安全补丁。

* 社区采用

如果Java社区主要采用了JDK 17和随后的版本，Spring对齐到最新标准可以利用社区驱动的改进，并确保兼容性。

* 生态系统的演进

受到广泛技术生态系统的变化的影响，包括工具、框架和部署环境的改进，这些都更好地与较新的JDK版本相匹配。

* 较旧版本的生命周期结束

Java有一个可预测的发布周期，较旧的版本最终会到达其生命周期的终点。通过跳过JDK版本8到16，Spring可能鼓励用户摆脱过时且不受支持的Java版本。

image::https://raw.githubusercontent.com/leelance/doc-howto/main/doc/java/jdk8-17/img/jdk_lts.png[JDK LTS]

- JDK9新特性
- JDK10新特性
- JDK11新特性
- JDK12新特性
- JDK13新特性
- JDK14新特性
- JDK15新特性
- JDK16新特性
- JDK17新特性

== 具体版本升级说明

=== JDK9新特性(2017年9月)
* 模块化
* 提供了工厂方法,例如 List.of(),Set.of(),Map.of()和Map.ofEntries()
* 接口支持私有方法
* Optional类的改进
* JAR包依赖兼容多个版本
* JShell工具
* 增强的Try-with-resources
* 对Stream API的改进
* 将G1设置为JVM的默认垃圾收集器
* 支持HTTP2.0和WebSocket的API改进。

=== JDK10新特性(2018年3月)
* 局部变量类型推断,类似于JavaScript,可以使用var修改局部变量. 在编译后,会推断值的真实类型
* 不可变集合的改进
* 并行完整垃圾收集器G1以优化G1的延迟
* 线程本地握手允许执行线程回调而不执行全局VM安全点. 一个单线程可以被停止
* Optional中新增orElseThrow()方法
* 类数据共享
* Unicode语言标签扩展
* 根证书

其重要特性包括通过var关键字实现的局部变量类型推断,使得Java语言成为一种弱类型语言,并且JVM中的G1垃圾收集器从单线程变为多线程并行处理,从而减少了G1暂停时间

=== JDK11新特性(2018年9月)(LTS版本)
* 添加了一些字符串处理方法
* Lambda参数的局部变量语法
* HTTP客户端重写支持HTTP/1.1、HTTP/2和WebSockets
* 运行单个Java源代码文件,例如java Test.java
* ZGC:可伸缩且低延迟的垃圾收集器.ZGC可以看作比G1更细粒度的内存管理策略.由于内存的连续分配和回收将产生大量的内存碎片空间,需要一种碎片整理策略.在整理碎片期间,内存引用的线程需要逻辑上暂停.这个过程被称为"Stop the World".只有在整个过程完成后,线程逻辑才能继续运行.(并行回收)
* 支持TLS1.3协议
* Flight Recorder,一个用于OS、JVM和基于JDK的事件的数据收集框架
* 对Stream、Optional和Collection API的增强

其重要特性是对 JDK 9 和 JDK 10 的改进，主要是针对流、集合等 API，以及新的 ZGC 垃圾收集器。

